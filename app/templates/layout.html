<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}PETential{% endblock %}</title>
    <meta name="description" content="Find your perfect pet match with PETential's personalized quiz system for dogs and cats">
    <meta name="theme-color" content="#667eea">
    
    <!-- Modern Font Loading - PETential Design System -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
    
    <!-- Modern CSS Design System - Individual files to avoid @import issues -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/design-system.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components/buttons.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components/navigation.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components/footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Skip to main content link for screen readers -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- PETential Header Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <!-- LOGO COMPONENT -->
            <a href="{{ url_for('index') }}" class="nav-logo" aria-label="PETential - Go to homepage">
                <div class="nav-logo-icon" aria-hidden="true"></div>
                <span class="nav-logo-text">PETential</span>
            </a>
            
            <!-- NAVIGATION MENU -->
            <ul class="nav-menu" role="menubar" aria-label="Main menu">
                <li role="none">
                    <a href="#breeds" class="nav-link has-dropdown" role="menuitem" aria-haspopup="true">Breeds</a>
                </li>
                <li role="none">
                    <a href="#about" class="nav-link" role="menuitem">About</a>
                </li>
                <li role="none">
                    <a href="#blog" class="nav-link" role="menuitem">Blog</a>
                </li>
                <li role="none">
                    <a href="#support" class="nav-link has-dropdown" role="menuitem" aria-haspopup="true">Support</a>
                </li>
                <li role="none">
                    <a href="{{ url_for('index') }}#quiz-section" class="nav-cta" role="menuitem">Get started</a>
                </li>
            </ul>
            
            <!-- Mobile Hamburger Menu -->
            <button class="nav-hamburger" id="nav-hamburger" type="button" 
                    aria-label="Toggle mobile menu" 
                    aria-expanded="false" 
                    aria-controls="nav-mobile-menu"
                    aria-haspopup="true">
                <span class="hamburger-line" aria-hidden="true"></span>
                <span class="hamburger-line" aria-hidden="true"></span>
                <span class="hamburger-line" aria-hidden="true"></span>
            </button>
        </div>
        
        <!-- Mobile Menu Overlay -->
        <div class="nav-mobile-menu" id="nav-mobile-menu" role="menu" aria-label="Mobile navigation menu" aria-hidden="true">
            <a href="#breeds" class="nav-mobile-link" role="menuitem">Breeds</a>
            <a href="#about" class="nav-mobile-link" role="menuitem">About</a>
            <a href="#blog" class="nav-mobile-link" role="menuitem">Blog</a>
            <a href="#support" class="nav-mobile-link" role="menuitem">Support</a>
            <a href="{{ url_for('index') }}#quiz-section" class="nav-mobile-link nav-mobile-cta" role="menuitem">Get started</a>
        </div>
    </nav>
    
    <main id="main-content" role="main" tabindex="-1">
        {% block content %}{% endblock %}
    </main>
    
    <!-- FOOTER -->
    <footer class="footer" role="contentinfo">
        <div class="footer-container">
            <!-- FOOTER MAIN CONTENT -->
            <div class="footer-main">
                <!-- FOOTER BRAND SECTION -->
                <div class="footer-brand">
                    <a href="{{ url_for('index') }}" class="footer-logo">
                        <div class="footer-logo-icon" aria-hidden="true"></div>
                        <span class="footer-logo-text">PETential</span>
                    </a>
                    <p class="footer-description">
                        Connecting pet lovers with their perfect companions through personalized matching and expert guidance. Your journey to finding the ideal furry friend starts here.
                    </p>
                    <div class="footer-social">
                        <a href="#" class="footer-social-link" aria-label="Follow us on Facebook">
                            <span aria-hidden="true">üìò</span>
                        </a>
                        <a href="#" class="footer-social-link" aria-label="Follow us on Twitter">
                            <span aria-hidden="true">üê¶</span>
                        </a>
                        <a href="#" class="footer-social-link" aria-label="Follow us on Instagram">
                            <span aria-hidden="true">üì∑</span>
                        </a>
                        <a href="#" class="footer-social-link" aria-label="Follow us on YouTube">
                            <span aria-hidden="true">üì∫</span>
                        </a>
                    </div>
                </div>
                
                <!-- DISCOVER COLUMN -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Discover</h3>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('dog_quiz') }}" class="footer-link">Dog Quiz</a></li>
                        <li><a href="{{ url_for('cat_quiz') }}" class="footer-link">Cat Quiz</a></li>
                        <li><a href="#breeds" class="footer-link">All Breeds</a></li>
                        <li><a href="#about" class="footer-link">How It Works</a></li>
                        <li><a href="#" class="footer-link">Success Stories</a></li>
                    </ul>
                </div>
                
                <!-- RESOURCES COLUMN -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Pet Care Guide</a></li>
                        <li><a href="#" class="footer-link">Training Tips</a></li>
                        <li><a href="#" class="footer-link">Health & Wellness</a></li>
                        <li><a href="#" class="footer-link">Nutrition Guide</a></li>
                        <li><a href="#" class="footer-link">Blog</a></li>
                    </ul>
                </div>
                
                <!-- SUPPORT COLUMN -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Support</h3>
                    <ul class="footer-links">
                        <li><a href="{{ url_for('feedback') }}" class="footer-link">Contact Us</a></li>
                        <li><a href="#" class="footer-link">FAQ</a></li>
                        <li><a href="#" class="footer-link">Help Center</a></li>
                        <li><a href="#" class="footer-link">Community</a></li>
                        <li><a href="#" class="footer-link">Report Issue</a></li>
                    </ul>
                </div>
                
                <!-- NEWSLETTER COLUMN -->
                <div class="footer-column">
                    <h3 class="footer-column-title">Stay Updated</h3>
                    <p style="font-size: 14px; color: #9CA3AF; margin-bottom: 16px; line-height: 1.5;">
                        Get pet care tips and matching insights delivered to your inbox.
                    </p>
                    <form class="footer-newsletter" action="#" method="post">
                        <input type="email" class="footer-newsletter-input" placeholder="Enter your email" required>
                        <button type="submit" class="footer-newsletter-btn">Subscribe</button>
                    </form>
                </div>
            </div>
            
            <!-- FOOTER BOTTOM -->
            <div class="footer-bottom">
                <p class="footer-copyright">
                    &copy; 2025 PETential. All rights reserved.
                </p>
                <ul class="footer-legal">
                    <li><a href="#" class="footer-legal-link">Privacy Policy</a></li>
                    <li><a href="#" class="footer-legal-link">Terms of Service</a></li>
                    <li><a href="#" class="footer-legal-link">Cookie Policy</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Framer Navigation JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('nav-hamburger');
            const mobileMenu = document.getElementById('nav-mobile-menu');
            const mobileLinks = document.querySelectorAll('.nav-mobile-link');
            const navbar = document.querySelector('.navbar');
            const navLinks = document.querySelectorAll('.nav-link');
            
            // Add scroll effect to navbar
            let lastScrollTop = 0;
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // Add shadow on scroll
                if (scrollTop > 10) {
                    navbar.style.boxShadow = '0 4px 20px rgba(102, 126, 234, 0.25)';
                } else {
                    navbar.style.boxShadow = '0 2px 12px rgba(102, 126, 234, 0.15)';
                }
                
                lastScrollTop = scrollTop;
            });
            
            // Highlight active navigation link
            const currentPath = window.location.pathname;
            navLinks.forEach(link => {
                const linkPath = new URL(link.href).pathname;
                if (linkPath === currentPath || (currentPath.includes('/quiz') && link.textContent.includes('Quiz'))) {
                    link.style.background = 'rgba(255, 255, 255, 0.15)';
                    link.style.fontWeight = 'var(--font-weight-medium)';
                }
            });
            
            // Toggle mobile menu
            hamburger.addEventListener('click', function() {
                const isExpanded = hamburger.getAttribute('aria-expanded') === 'true';
                
                hamburger.classList.toggle('active');
                mobileMenu.classList.toggle('active');
                
                // Update ARIA attributes
                hamburger.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.setAttribute('aria-hidden', isExpanded);
                
                // Prevent body scroll when menu is open
                if (mobileMenu.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                    // Focus first menu item for keyboard users
                    const firstMenuItem = mobileMenu.querySelector('.nav-mobile-link');
                    if (firstMenuItem) {
                        firstMenuItem.focus();
                    }
                } else {
                    document.body.style.overflow = '';
                }
            });
            
            // Close mobile menu when clicking on a link
            mobileLinks.forEach(link => {
                link.addEventListener('click', function() {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
            
            // Close mobile menu when clicking outside
            mobileMenu.addEventListener('click', function(e) {
                if (e.target === mobileMenu) {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
            
            // Handle window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth > 809) {
                    hamburger.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
            
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
    
    <!-- Form Enhancement Script -->
    <script src="{{ url_for('static', filename='js/forms.js') }}"></script>
    
    <!-- Tabs Functionality Script -->
    <script src="{{ url_for('static', filename='js/tabs.js') }}"></script>
    
    <!-- Testimonials Functionality Script -->
    <script src="{{ url_for('static', filename='js/testimonials.js') }}"></script>
    
    <!-- FAQ Functionality Script -->
    <script src="{{ url_for('static', filename='js/faq.js') }}"></script>
    
    <!-- Insights Functionality Script -->
    <script src="{{ url_for('static', filename='js/insights.js') }}"></script>
</body>
</html>
